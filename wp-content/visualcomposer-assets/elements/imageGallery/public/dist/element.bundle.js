webpackJsonp([1],{"./imageGallery/component.js":function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a("./node_modules/babel-runtime/helpers/extends.js"),l=t(i),r=a("./node_modules/babel-runtime/helpers/typeof.js"),o=t(r),s=a("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),c=t(s),g=a("./node_modules/babel-runtime/helpers/classCallCheck.js"),u=t(g),m=a("./node_modules/babel-runtime/helpers/createClass.js"),d=t(m),p=a("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=t(p),h=a("./node_modules/babel-runtime/helpers/inherits.js"),v=t(h),f=a("./node_modules/react/react.js"),y=t(f),x=a("./node_modules/vc-cake/index.js"),w=t(x),k=w["default"].getService("api"),I=(w["default"].getService("cook"),function(e){function n(e){(0,u["default"])(this,n);var a=(0,b["default"])(this,(n.__proto__||(0,c["default"])(n)).call(this,e));return a.imageSources=[],a.imageOrder={},a.createCustomSizeImage=a.createCustomSizeImage.bind(a),a}return(0,v["default"])(n,e),(0,d["default"])(n,[{key:"componentDidMount",value:function(){this.prepareImage(this.props.atts.image)}},{key:"componentWillReceiveProps",value:function(e){this.imageSources=[],this.imageOrder={},this.prepareImage(e.atts.image)}},{key:"prepareImage",value:function(e){var n=this;if(e.length&&"object"===(0,o["default"])(e[0])){var a=[];e.forEach(function(e,t){var i=e;i.full=i.id?i.full:n.getImageUrl(i.full),i.id=i.id?i.id:Math.random(),a.push(e)}),e=a,this.setImageOrder(e),this.resizeImage(e)}var t=[];e.forEach(function(a){e&&e.id?t.push({imgSrc:n.getImageUrl(a)}):t.push({imgSrc:n.getImageUrl(a)})}),this.setImgSrcState(t)}},{key:"setImageOrder",value:function(e){var n=this;e.forEach(function(e,a){n.imageOrder[a]=e.id})}},{key:"checkImageSize",value:function(e,n,a){var t=new window.Image;t.onload=function(){var i={width:t.width,height:t.height};n(e,i,a)},t.src=e.full}},{key:"resizeImage",value:function(e){var n=this;e.forEach(function(a){n.checkImageSize(a,n.createCustomSizeImage,e.length)})}},{key:"createCustomSizeImage",value:function(e,n,a){e.orientation=this.checkOrientation(n);var t=this.imageSources.filter(function(n){return n.id===e.id});t.length||this.imageSources.push(e),this.imageSources.length===a&&this.orderImages()}},{key:"orderImages",value:function(){var e=this,n=[];this.imageSources.forEach(function(a,t){var i=e.imageSources.filter(function(n){return n.id===e.imageOrder[t]});i[0]&&n.push({imgSrc:e.getImageUrl(i[0],"large"),orientation:i[0].orientation,originalSrc:e.getImageUrl(i[0]),alt:i[0].alt,title:i[0].title})}),this.setImgSrcState(n)}},{key:"checkOrientation",value:function(e){return e.width>=e.height?"landscape":"portrait"}},{key:"setImgSrcState",value:function(e){this.setState({imgSrc:e})}},{key:"getPublicImage",value:function(e){var n=this.props.atts.metaAssetsPath;return e?e.match("^(https?:)?\\/\\/?")?e:n+e:""}},{key:"getImageUrl",value:function(e,n){var a=this,t=void 0;if(n&&e&&e[n])t=e[n];else if(e instanceof Array){var i=[];e.forEach(function(e){var n=e&&e.full&&e.id?e.full:e&&e.full?a.getPublicImage(e.full):a.getPublicImage(e);i.push(n)}),t=i}else t=e&&e.full&&e.id?e.full:e&&e.full?this.getPublicImage(e.full):this.getPublicImage(e);return t}},{key:"render",value:function(){var e=this.props,n=e.id,a=e.atts,t=e.editor,i=a.image,r=a.shape,o=a.clickableOptions,s=a.customClass,c=(a.columns,a.metaCustomId),g="vce-image-gallery",u="vce-image-gallery-wrapper vce",m={},d="div",p=this.state&&this.state.imgSrc;"string"==typeof s&&s&&(g+=" "+s);var b=this.getMixinData("imageGalleryGap");b&&(g+=" vce-image-gallery--gap-"+b.selector),b=this.getMixinData("imageGalleryColumns"),b&&(g+=" vce-image-gallery--columns-"+b.selector),"rounded"===r&&(g+=" vce-image-gallery--border-rounded"),"round"===r&&(g+=" vce-image-gallery--border-round"),c&&(m.id=c);var h=[];p&&p.forEach(function(e,a){var t={},r="vce-image-gallery-item-inner",s="vce-image-gallery-img",c={alt:e&&e.alt?e.alt:"",title:e&&e.title?e.title:""};if("portrait"===e.orientation&&(s+=" vce-image-gallery-img--orientation-portrait"),"url"===o&&i[a].link&&i[a].link.url){d="a";var g=i[a].link,u=g.url,m=g.title,p=g.targetBlank,b=g.relNofollow;t={href:u,title:m,target:p?"_blank":void 0,rel:b?"nofollow":void 0}}else"imageNewTab"===o?(d="a",t={href:e.originalSrc||e.imgSrc,target:"_blank"}):"lightbox"===o&&(d="a",t={href:e.originalSrc||e.imgSrc,"data-lightbox":"lightbox-"+n});h.push(y["default"].createElement("div",{className:"vce-image-gallery-item",key:"vce-image-gallery-item-"+a+"-"+n},y["default"].createElement("div",{className:"vce-image-gallery-item-inner-wrapper"},y["default"].createElement(d,(0,l["default"])({},t,{className:r}),y["default"].createElement("img",(0,l["default"])({className:s,src:e.imgSrc},c))))))});var v=this.applyDO("all");return y["default"].createElement("div",(0,l["default"])({className:g},t,m),y["default"].createElement("div",(0,l["default"])({className:u,id:"el-"+n},v),y["default"].createElement("div",{className:"vce-image-gallery-list"},h)))}}]),n}(k.elementComponent));n["default"]=I},0:function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var i=a("./node_modules/vc-cake/index.js"),l=t(i),r=a("./imageGallery/component.js"),o=t(r),s=l["default"].getService("cook").add;s(a("./imageGallery/settings.json"),function(e){e.add(o["default"])},{css:a("./node_modules/raw-loader/index.js!./imageGallery/styles.css"),editorCss:a("./node_modules/raw-loader/index.js!./imageGallery/editor.css"),mixins:{imageGalleryColumns:{mixin:a("./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryColumns.pcss")},imageGalleryGap:{mixin:a("./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryGap.pcss")}}},"")},"./imageGallery/settings.json":function(e,n){e.exports={image:{type:"attachimage",access:"public",value:["image-gallery-1.jpg","image-gallery-2.jpg","image-gallery-3.jpg","image-gallery-4.jpg","image-gallery-5.jpg","image-gallery-6.jpg"],options:{label:"Images",multiple:!0,onChange:{rules:{clickableOptions:{rule:"value",options:{value:"url"}}},actions:[{action:"attachImageUrls"}]},url:!1}},shape:{type:"buttonGroup",access:"public",value:"square",options:{label:"Shape",values:[{label:"Square",value:"square",icon:"vcv-ui-icon-attribute-shape-square"},{label:"Rounded",value:"rounded",icon:"vcv-ui-icon-attribute-shape-rounded"},{label:"Round",value:"round",icon:"vcv-ui-icon-attribute-shape-round"}]}},designOptions:{type:"designOptions",access:"public",value:{},options:{label:"Design Options"}},editFormTab1:{type:"group",access:"protected",value:["clickableOptions","image","columns","gap","shape","metaCustomId","customClass"],options:{label:"General"}},metaEditFormTabs:{type:"group",access:"protected",value:["editFormTab1","designOptions"]},relatedTo:{type:"group",access:"protected",value:["General"]},customClass:{type:"string",access:"public",value:"",options:{label:"Extra class name",description:"Add an extra class name to the element and refer to it from Custom CSS option."}},clickableOptions:{type:"dropdown",access:"public",value:"lightbox",options:{label:"OnClick action",values:[{label:"None",value:""},{label:"Lightbox",value:"lightbox"},{label:"Open Image in New Tab",value:"imageNewTab"},{label:"Link selector",value:"url"}]}},assetsLibrary:{access:"public",type:"string",value:["animate"]},gap:{type:"number",access:"public",value:"10",options:{label:"Gap",description:"Enter gap in pixels (Example: 5).",cssMixin:{mixin:"imageGalleryGap",property:"gap",namePattern:"[\\da-f]+"}}},columns:{type:"number",access:"public",value:"3",options:{label:"Number of Columns",cssMixin:{mixin:"imageGalleryColumns",property:"columns",namePattern:"[\\da-f]+"}}},metaBackendLabels:{type:"group",access:"protected",value:[{value:["clickableOptions"]},{value:["image"]}]},metaCustomId:{type:"customId",access:"public",value:"",options:{label:"Element ID",description:"Apply unique Id to element to link directly to it by using #your_id (for element id use lowercase input only)."}},tag:{access:"protected",type:"string",value:"imageGallery"},metaPublicJs:{access:"protected",type:"string",value:{libraries:[{rules:{clickableOptions:{rule:"value",options:{value:"lightbox"}}},libPaths:"public/dist/lightbox.min.js"}]}}}},"./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryColumns.pcss":function(e,n){e.exports="@media (min-width: 544px) {\n  .vce-image-gallery {\n\t&--columns-$selector {\n\t  .vce-image-gallery-item {\n\t    @if $columns != false {\n\t      flex: 0 0 calc(100% / $columns);\n\t      max-width: calc(100% / $columns);\n\t    }\n\t  }\n\t}\n  }\n}\n\n"},"./node_modules/raw-loader/index.js!./imageGallery/cssMixins/imageGalleryGap.pcss":function(e,n){e.exports=".vce-image-gallery {\n  &--gap-$selector {\n    .vce-image-gallery-list {\n      @if $gap != false {\n        margin-left: calc(-$(gap)px / 2);\n        margin-right: calc(-$(gap)px / 2);\n        margin-bottom: -$(gap)px;\n      }\n    }\n    .vce-image-gallery-item {\n      @if $gap != false {\n        padding-left: calc($(gap)px / 2);\n        padding-right: calc($(gap)px / 2);\n        margin-bottom: $(gap)px;\n      }\n    }\n  }\n}\n"},"./node_modules/raw-loader/index.js!./imageGallery/editor.css":function(e,n){e.exports=".vce-image-gallery {\n  min-height: 1em;\n}\n"},"./node_modules/raw-loader/index.js!./imageGallery/styles.css":function(e,n){e.exports=".vce-image-gallery-wrapper {\n  overflow: hidden;\n}\n\n.vce-image-gallery-list {\n  display: -ms-flexbox;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  align-content: flex-start;\n  flex-wrap: wrap;\n}\n\n.vce-image-gallery-item {\n  flex: 0 0 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n}\n\n.vce-image-gallery-item-inner-wrapper {\n  overflow: hidden\n}\n\n.vce-image-gallery-item-inner {\n  position: relative;\n  display: block;\n  /*overflow: hidden;*/\n}\n\n.vce-image-gallery-item-inner::after {\n  content: \"\";\n  padding-bottom: 100%;\n  display: block;\n}\n\n.vce-image-gallery-item-inner img.vce-image-gallery-img {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: auto;\n  max-width: none;\n  height: 101%;\n}\n\n.vce-image-gallery-item-inner img.vce-image-gallery-img--orientation-portrait {\n  width: 101%;\n  height: auto;\n}\n\na.vce-image-gallery-item-inner {\n  color: transparent;\n  border-bottom: 0;\n  text-decoration: none;\n}\n\n.vce-image-gallery--border-rounded .vce-image-gallery-item-inner {\n  border-radius: 5px;\n  overflow: hidden;\n}\n\n.vce-image-gallery--border-round .vce-image-gallery-item-inner {\n  border-radius: 50%;\n  overflow: hidden;\n}\n\n/* =====  Lightbox  ===== */\n/* Preload images */\nbody:after {\n  content: url('public/close.png') url('public/loading.gif') url('public/prev.png') url('public/next.png');\n  display: none;\n}\n\nbody.vce-lb-disable-scrolling {\n  overflow: hidden;\n}\n\n.vce-lightboxOverlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  background-color: black;\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=80);\n  opacity: 0.8;\n  display: none;\n}\n\n.vce-lightbox {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  z-index: 10000;\n  text-align: center;\n  line-height: 0;\n  font-weight: normal;\n}\n\n.vce-lightbox .vce-lb-image {\n  display: block;\n  height: auto;\n  max-width: inherit;\n  border-radius: 3px;\n  transition: none;\n}\n\n.vce-lightbox a img {\n  border: none;\n}\n\n.vce-lb-outerContainer {\n  position: relative;\n  background-color: white;\n  *zoom: 1;\n  width: 250px;\n  height: 250px;\n  margin: 0 auto;\n  border-radius: 4px;\n}\n\n.vce-lb-outerContainer:after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.vce-lb-loader {\n  position: absolute;\n  top: 43%;\n  left: 0;\n  height: 25%;\n  width: 100%;\n  text-align: center;\n  line-height: 0;\n}\n\n.vce-lb-cancel {\n  display: block;\n  width: 32px;\n  height: 32px;\n  margin: 0 auto;\n  background: url('public/loading.gif') no-repeat;\n}\n\n.vce-lb-nav {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 10;\n}\n\n.vce-lb-container > .nav {\n  left: 0;\n}\n\n.vce-lb-nav a {\n  outline: none;\n  background-image: url('data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==');\n}\n\n.vce-lb-prev, .vce-lb-next {\n  height: 100%;\n  cursor: pointer;\n  display: block;\n}\n\n.vce-lb-nav a.vce-lb-prev {\n  width: 34%;\n  left: 0;\n  float: left;\n  background: url('public/prev.png') left 48% no-repeat;\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);\n  opacity: 0;\n  -webkit-transition: opacity 0.6s;\n  -moz-transition: opacity 0.6s;\n  -o-transition: opacity 0.6s;\n  transition: opacity 0.6s;\n}\n\n.vce-lb-nav a.vce-lb-prev:hover {\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n  opacity: 1;\n}\n\n.vce-lb-nav a.vce-lb-next {\n  width: 64%;\n  right: 0;\n  float: right;\n  background: url('public/next.png') right 48% no-repeat;\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);\n  opacity: 0;\n  -webkit-transition: opacity 0.6s;\n  -moz-transition: opacity 0.6s;\n  -o-transition: opacity 0.6s;\n  transition: opacity 0.6s;\n}\n\n.vce-lb-nav a.vce-lb-next:hover {\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n  opacity: 1;\n}\n\n.vce-lb-dataContainer {\n  margin: 0 auto;\n  padding-top: 5px;\n  *zoom: 1;\n  width: 100%;\n  -moz-border-radius-bottomleft: 4px;\n  -webkit-border-bottom-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  -moz-border-radius-bottomright: 4px;\n  -webkit-border-bottom-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.vce-lb-dataContainer:after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n\n.vce-lb-data {\n  padding: 0 4px;\n  color: #ccc;\n}\n\n.vce-lb-data .vce-lb-details {\n  width: 85%;\n  float: left;\n  text-align: left;\n  line-height: 1.1em;\n}\n\n.vce-lb-data .vce-lb-caption {\n  font-size: 13px;\n  font-weight: bold;\n  line-height: 1em;\n}\n\n.vce-lb-data .vce-lb-number {\n  display: block;\n  clear: left;\n  padding-bottom: 1em;\n  font-size: 12px;\n  color: #999;\n}\n\n.vce-lb-data .vce-lb-close {\n  display: block;\n  float: right;\n  width: 30px;\n  height: 30px;\n  background: url('public/close.png') top right no-repeat;\n  text-align: right;\n  outline: none;\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=70);\n  opacity: 0.7;\n  -webkit-transition: opacity 0.2s;\n  -moz-transition: opacity 0.2s;\n  -o-transition: opacity 0.2s;\n  transition: opacity 0.2s;\n}\n\n.vce-lb-data .vce-lb-close:hover {\n  cursor: pointer;\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);\n  opacity: 1;\n}\n"}});